\documentclass[12pt,a4paper]{jreport}

\pagestyle{headings}
\topmargin 0mm
\oddsidemargin 5mm
\textwidth 150mm
\textheight 230mm

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}


\title{平成28年　卒業研究論文\\
    　\\
    　\\
    　\\
\huge\bf 疑似ラインセンサーを用いた\\ＳＰレコード音検出\\}
\author{　\\
    　\\
    北海学園大学工学部 電子情報工学科\\
    魚住研究室\\
    \\
    \\
    4513213\\
クーン・トビアス}
\date{2016年10月11日}



\begin{document}
\maketitle
\tableofcontents



\chapter{はじめに}




\chapter{画像データ生成}
\section{実験装置}

SPレコードの撮像に用いられる実験装置を図\ref{fig:experimentalSetup}に示す．レコードに下にあるパルスステージはレコードをカメラの位置に対して平行に
（図\ref{fig:experimentalSetup}で言うと左右に）動かす．この平行移動をパルスモータFが実装する回転運動と組み合わせると，SPレコードの全領域を顕微鏡の下
に持ってこられる仕組みができる．


\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{experimentalSetup.eps}
        \caption{実験装置の設定}
        \label{fig:experimentalSetup}
    \end{center}
\end{figure}

\begin{table}[h]
    \begin{center}
        \begin{tabular}{ l l }
            A & CDDカメラ \\
            B & 顕微鏡 \\
            C & 照射装置 \\
            D & SPレコード \\
            E & パルスモータ、平行移動用 \\
            F & パルスモータ、回転用 \\
        \end{tabular}
    \end{center}
\end{table}

\subsection{接続図}
それぞれの実験装置がどのようにしてパソコンと繋がっているかを図\ref{fig:ElectricalSetup}に示す．GigEバスはパソコンのNIC（Network Interface Card）と接続される．


\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{ElectricalSetup.eps}
        \caption{実験装置の設定}
        \label{fig:ElectricalSetup}
    \end{center}
\end{figure}

\subsection{CCDカメラ}
本研究で使用されているカメラはJAI社の「BB-500GE」である．表\ref{table:JAI}にカメラの仕様を示す．

\begin{table}[h]
    \begin{center}
        \caption{JAI BB-500GEの仕様}
        \label{table:JAI}
        \begin{tabular}{ | l | l |}
            \hline
            最大解像度 & 2456 (h) x 2058 (v) \\ \hline
            ROI範囲設定 & 2456 (h) x 32 (v) \\ \hline
            Partial Scan & Variable Partial Scan \\ \hline
            Variable Partial Scan Start Line & 965 \\ \hline

            \hline
        \end{tabular}
    \end{center}
\end{table}


\subsection{パルスステージ}
パルスステージの重要なパラメータ．

\section{音溝形態と光照射}
顕微鏡を通って撮像される光からSPレコードの音溝に記録されたデータを復元するのが本研究目標であるから，
撮像されるデータに音溝の形態が何らかの方法で読み取れなければならない．これを成し遂げるために，
光を斜めに照射して，音溝の壁の一部が明るく映るようにするのが有力な方法であることが過去の研究でわかった（ref!）．
図\ref{fig:ReflectionOnSPRec}に光の反射具合を模式的に表す．

\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{ReflectionOnSPRec.eps}
        \caption{反射の仕方}
        \label{fig:ReflectionOnSPRec}
    \end{center}
\end{figure}

図\ref{fig:ReflectionOnSPRec}を見てわかるように，SP盤に対して垂直に反射する光は，音溝の壁部分が一番多い．
一方，音溝以外の平面部分で反射する光は垂直に反射せず，顕微鏡にはほとんど入らない．この設定でカメラと顕微鏡で撮像した画像を図\ref{fig:SprecMicroscopeImgLabeled}に示す．

\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.6\textwidth, clip]{SprecMicroscopeImgLabeled.eps}
        \caption{SprecMicroscopeImgLabaled}
        \label{fig:SprecMicroscopeImgLabeled}
    \end{center}
\end{figure}

\section{プログラム構造}

\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{ProgSetupOld.eps}
        \caption{Prog Setup Old}
        \label{fig:ProgSetupOld}
    \end{center}
\end{figure}

\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{ProgSetupNew.eps}
        \caption{Prog Setup New}
        \label{fig:ProgSetupNew}
    \end{center}
\end{figure}

\chapter{画像データの前処理}
画像処理を駆使して音溝から音データを抽出するためには，
画像上の音溝データが連続的で，余分な重複などがないものでなければならない．
四角形の画像を撮影するカメラでその下を回る円盤の表面を撮像するときに，どのような問題が起きるかを調べて，解析する．

\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{OverlapProblem_1.eps}
        \caption{撮像の様子を幾何学的に表した図}
        \label{fig:OverlapProblem_1}
    \end{center}
\end{figure}

図\ref{fig:OverlapProblem_1}において，四角形ABCDがカメラの撮像範囲，SがSPレコードの外側，MがSPレコードの中心，$\alpha$が次の画像を取るための回転角度だとする．

\section{重複部分問題}

図\ref{fig:OverlapProblem_2}の四角形A，B，Cが順番に撮像された画像範囲だとする．このとき，それぞれの撮像範囲が重なることがわかる．撮像範囲が
四角形であることを前提とすると，画像をどのように撮像しても重複部分，または情報損失が生じる．
音溝から音を抽出する画像処理段階で，情報損失があってはならない．重複部分も画像処理を困難にするから何らかの方法でそれを最低限に抑える必要がある．

\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{OverlapProblem_2.eps}
        \caption{Overlap Problem 2}
        \label{fig:OverlapProblem_2}
    \end{center}
\end{figure}

本研究では，撮像範囲の幅（図\ref{fig:OverlapProblem_3}中$\overline{AB} = \overline{DC}$）を小さくすることで重複部分の影響を無視できる程度に抑える．
どのくらいの幅であれば無視できるといえるかを調べる．図\ref{fig:OverlapProblem_3}中の$rho$が一画像の重複部分だとすると，


\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{OverlapProblem_3.eps}
        \caption{Overlap Problem 3}
        \label{fig:OverlapProblem_3}
    \end{center}
\end{figure}



\section{湾曲問題}

\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{CurveProblem.eps}
        \caption{Curve Problem}
        \label{fig:CurveProblem}
    \end{center}
\end{figure}


\section{うなり問題}

\begin{figure}[h]
    \begin{center}
        \includegraphics[width=0.9\textwidth, clip]{UnariProblem.eps}
        \caption{うなり}
        \label{fig:Unari}
    \end{center}
\end{figure}

\chapter{音検出アルゴリズム}

\end{document}




